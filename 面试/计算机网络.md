## TCP/IP五层网络协议体系结构
  在 TCP/IP 五层协议中，从上至下分为 应用层、运输层（传输层）、网络层、数据链路层、物理层。
  各层协议之间既相互独立又相互高效的协调工作。

  - 为什么要分层？
    主要是为了简化网络设计的复杂性（降低耦合性）。
    分层的本质是通过关注点分离而让问题简单化。
    这样做的好处是：
      1. 层之间是独立的：让开发者可以只关注整个结构中的某一层，而不需要知道它的上下层是如何工作的。且由于各层相对对立，因此比较容易实现。
      2. 灵活性好：当一层发生变化时，只要层间接口关系保持不变，则上下层都不会受到影响。

### 应用层
  应用层协议定义的是两个应用进程间通信和交互的规则。
  常见的应用层协议有： DNS域名系统、HTTP超文本传输协议、SMTP电子邮件协议、FTP文件传输协议等

### 运输层
  运输层的主要任务是负责向的两台主机进程之间的通信提供通用的数据传输服务。应用进程利用该服务传输应用层报文。
  复用：多个应用层进程可以同时使用下面的运输层服务。
  分用：把运输层收到的信息分别交付到上面应用层的相应进程中。
  相关协议：TCP传输控制协议、UDP用户数据报协议

### 网络层
  因为通信的两个计算机之间可能会经过很多个数据链路、也可能还有经过多个通信子网。网络层的任务就是选择合适的网络间路由和交换结点，确保数据及时传送。
  在发送数据时，网路层把运输层产生的报文段或用户数据报封装成分组和包进行传送。在TCP/IP体系结构中，由于网络层使用了IP协议，因此分组也叫IP数据报
  相关协议：IP网际协议、ARP地址转换协议

### 数据链路层
  两台主机之间的数据传输，总是在一段一段的链路上进行传送的，数据链路层就是将网络层交下来的IP数据报组装成帧，在两个相邻节点的链路上传输。每一帧包括数据和必要的控制信息（如：同步信息、地址信息、差错控制等）
  在接收数据时，控制信息能够知道一个帧是从哪一比特开始和到哪一比特结束。控制信息还能是接收端检测到所收到的帧中有无差错。如果有差错，就直接丢弃该帧，避免浪费网络资源。如需改正该差错，那么就要采用可靠性传输协议来纠正出现的差错。
  相关协议：ARQ自动重传请求协议、CSMA/CD停止等待协议、PPP点对点协议

### 物理层
  物理层的作用就是实现相邻节点间比特流的透明传输，尽可能屏蔽掉具体传输的介质和物理设备的差异。
  “透明传送比特流”表示经实际电路传送后的比特流没有发生变化，对传送的比特流来说，这个电路好像是看不见的。
  相关设备：中继器、集线器、网线、HUB多端口的转发器

### TCP
  1. TCP特点
  2. 三次握手
    假设有客户端A，和服务端B。
    最开始阶段：服务端B进入监听状态。A处于关闭状态。
    第一次握手：客户端A向服务端B发起请求建立链接报文，会将该报文中的SYN（同步）位置为1，然后再选择一个序号x，seq=x。
    此时A就会进入同步已发送的状态。
    第二次握手：服务端B收到请求建立链接的报文后，会对客户端A发送确认报文，会将该报文中的SYN位置为1、ACK（确认）位置为1、ack（确认号） = x + 1、选择一个自己的序号 seq = y。
    此时B进入同步已接受状态。A收到该报文后会进入到链接已建立的状态，
    第三次握手：客户端A接受服务端B的确认报文后，会向服务端B发送自己的确认报文，会将该报文中的 ACK位置为1、ack = y + 1，seq = x + 1。
    服务端B收到后就会进入链接已建立的状态。
    双方就可以开始互相发送数据（在第三次握手时，已经可以携带具体数据）。

  3. 四次挥手
    第一次挥手：客户端A向服务端B发起释放链接报文，在该报文中，会把 FIN（终止）位置为1，seq = u（自己传完数据后紧接的序号）
    A会进入终止等待状态1
    第二次挥手：服务端B接到A的终止报文后，会返回终止确认报文，在该报文中，ACK位置为1，ack = u + 1、seq = v（自己传完数据后紧接的序号）
    A收到该报文后进入终止等待状态2，B进入关闭等待状态。也就是说，A到B这个反向的通信已关闭，A不能在向B发送数据，但是B仍可以向A发送数据，因为B可能还有数据未发送完成。
    第三次挥手：如果B已经发完了数据，那么就会向A发送释放链接报文，该报文中，FIN = 1、ACK = 1、ack = u + 1、seq = w（在B的关闭等待时可能发了些数据）。
    B进入最后确认状态。
    第四次挥手：A收到B的释放链接报文后，会向B发送确认报文，ACK = 1、ack = w + 1、seq = u + 1 然后进入时间等待状态，等待2MSL（MSL：最长报文段寿命）后，A进入关闭状态。
    B收到该报文后就会进入关闭状态。

### HTTP
  1. HTTP结构
  2. 请求方法v
  3. 状态码
  4. 跨域
  5. HTTP1.0、HTTP1.1、HTTP2.0 区别
  6. cookie
    cookie 如果没有设置过期时间，那么就会在浏览器关闭后才清除（标签页关闭并不会清除）。
    cookie 在设置中（set-cookie 字段），是单独去设置每一个cookie的，有这些属性 name=value; path=/; expirse=Sat, 15 May 2021 07:20:45 GMT; httpOnly; domain=aaa.com; 等; 且每一个cookie是相互独立的；在下次请求时会将它们的name=value进行链接（分号链接）放在cookie头部中发送过去。

#### HTTPS
  1. HTTPS是什么
    HTTP + SSL/TLS。
    HTTP是明文传输的，在传输过程中，很容易被截获、修改或伪造。
    HTTP 没有用户验证、没有数据完整性校验、明文传输。
    HTTPS 就是为了解决这3个问题，也就是：加密、验证身份、数据一致性。

    SSL 是 TLS 的前身。 用于两个通信应用程序之间提供保密性和数据完整性。
  2. HTTPS 建立过程
    因为非对称加密速度很慢，所以在通信建立过程中去使用的。
    通过非对称加密完成建立过程，通过对称加密进行数据传输
    CA认证：因为公钥任何都可以发布，所以就需要必须有经过认证的密钥，才能解决公钥安全问题。
    CA 的全称是 Certificate Authority，证书认证机构。只有CA颁发具有认证过的公钥才可以解决信任问题。
  3. 对称加密和非对称加密
    对称加密算法：SHA1、SHA256
    非对称加密算法：RSA